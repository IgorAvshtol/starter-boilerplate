{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","views/app-views/home/index.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","CoordinatesPanel","rectangles","className","map","rectangle","shape","id","x","y","Home","useState","setRectangles","useEffect","savedRectangles","localStorage","getItem","JSON","parse","saveRectanglesToLocalStorage","updatedRectangles","setItem","stringify","onMouseDown","e","preventDefault","style","left","top","event","clientX","clientY","offsetX","offsetY","newX","newY","handleMouseMove","prevState","rect","document","addEventListener","handleMouseUp","removeEventListener","handleMouseDown","src","alt","onClick","rectangleId","filter","newRectangle","length","newCircle","coordinatesData","blob","Blob","type","url","URL","createObjectURL","link","createElement","href","download","click","revokeObjectURL","exportCoordinatesToFile"],"mappings":"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","file":"static/js/14.11c9f95a.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useEffect, useState } from 'react';\r\n\r\nconst CoordinatesPanel = ({ rectangles }) => {\r\n  return (\r\n      <div className='coordinates-panel'>\r\n        {rectangles.map((rectangle) => (\r\n            <div key={rectangle.id} className='coordinate'>\r\n              <span>{rectangle.shape} {rectangle.id}: </span>\r\n              <span>X: {rectangle.x}, Y: {rectangle.y}</span>\r\n            </div>\r\n        ))}\r\n      </div>\r\n  );\r\n};\r\n\r\nconst Home = () => {\r\n  const [rectangles, setRectangles] = useState([]);\r\n  useEffect(() => {\r\n    const savedRectangles = localStorage.getItem('rectangles');\r\n    if (savedRectangles) {\r\n      setRectangles(JSON.parse(savedRectangles));\r\n    }\r\n  }, []);\r\n\r\n  const saveRectanglesToLocalStorage = (updatedRectangles) => {\r\n    localStorage.setItem('rectangles', JSON.stringify(updatedRectangles));\r\n  };\r\n\r\n  const handleMouseDown = (event, rectangle) => {\r\n    event.preventDefault();\r\n    const { clientX, clientY } = event;\r\n    const offsetX = clientX - rectangle.x;\r\n    const offsetY = clientY - rectangle.y;\r\n\r\n    let newX = rectangle.x;\r\n    let newY = rectangle.y;\r\n\r\n    const handleMouseMove = (event) => {\r\n      event.preventDefault();\r\n      const { clientX, clientY } = event;\r\n      newX = clientX - offsetX;\r\n      newY = clientY - offsetY;\r\n\r\n      setRectangles((prevState) =>\r\n          prevState.map((rect) =>\r\n              rect.id === rectangle.id ? { ...rect, x: newX, y: newY } : rect\r\n          )\r\n      );\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n\r\n      saveRectanglesToLocalStorage(\r\n          rectangles.map((rect) =>\r\n              rect.id === rectangle.id ? { ...rect, x: newX, y: newY } : rect\r\n          )\r\n      );\r\n    };\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('mouseup', handleMouseUp);\r\n  };\r\n\r\n  const handleAddRectangle = () => {\r\n    const newId = rectangles.length + 1;\r\n    const newRectangle = { id: newId, shape: 'Стол', x: 0, y: 0 };\r\n    setRectangles((prevState) => [...prevState, newRectangle]);\r\n    saveRectanglesToLocalStorage([...rectangles, newRectangle]);\r\n  };\r\n\r\n  const handleAddCircle = () => {\r\n    const newId = rectangles.length + 1;\r\n    const newCircle = { id: newId, shape: 'Стул', x: 0, y: 0 };\r\n    setRectangles((prevState) => [...prevState, newCircle]);\r\n    saveRectanglesToLocalStorage([...rectangles, newCircle]);\r\n  };\r\n\r\n  const handleDeleteRectangle = (rectangleId) => {\r\n    setRectangles((prevState) => prevState.filter((rect) => rect.id !== rectangleId));\r\n    saveRectanglesToLocalStorage(rectangles.filter((rect) => rect.id !== rectangleId));\r\n  };\r\n\r\n  const exportCoordinatesToFile = () => {\r\n    const coordinatesData = JSON.stringify(rectangles);\r\n    const blob = new Blob([coordinatesData], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = 'coordinates.json';\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n\r\n  const handleExportCoordinates = () => {\r\n    exportCoordinatesToFile();\r\n  };\r\n\r\n  return (\r\n      <div className='app'>\r\n        <div className='grid' onMouseDown={(e) => e.preventDefault()}>\r\n          {rectangles.map((rectangle) => (\r\n              <div\r\n                  key={rectangle.id}\r\n                  className='shape'\r\n                  style={{ left: rectangle.x, top: rectangle.y }}\r\n                  onMouseDown={(e) => handleMouseDown(e, rectangle)}\r\n              >\r\n                {rectangle.shape === 'Стол' && <img className='shape' src='/img/furniture/sofa.png' alt='стол'/>}\r\n                {rectangle.shape === 'Стул' && <img className='shape' src='/img/furniture/stool-chair.png' alt='стул'/>}\r\n                <button\r\n                    className='deleteButton'\r\n                    onClick={() => handleDeleteRectangle(rectangle.id)}\r\n                >\r\n                  Удалить\r\n                </button>\r\n              </div>\r\n          ))}\r\n        </div>\r\n        <div>\r\n          <button className='addButton' onClick={handleAddRectangle}>\r\n            Добавить стул\r\n          </button>\r\n          <button className='addButton' onClick={handleAddCircle}>\r\n            Добавить стол\r\n          </button>\r\n          <button className='addButton' onClick={handleExportCoordinates}>\r\n            Экспорт координат\r\n          </button>\r\n        </div>\r\n        <CoordinatesPanel rectangles={rectangles}/>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}